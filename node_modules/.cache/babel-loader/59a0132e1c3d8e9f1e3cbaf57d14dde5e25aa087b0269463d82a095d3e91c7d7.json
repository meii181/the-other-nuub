{"ast":null,"code":"import _defineProperty from\"C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import LoggedInNavigation from\"./LoggedInNavigation\";import{Container,Button,Stack,Row,Col,Form}from\"react-bootstrap\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{useTranslation}from\"react-i18next\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddAppointment=function AddAppointment(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState({meeting_date:\"\",meeting_time:\"\",meeting_description:\"\"}),_useState4=_slicedToArray(_useState3,2),appointmentInput=_useState4[0],setAppointmentInput=_useState4[1];var navigate=useNavigate();var _useTranslation=useTranslation(),t=_useTranslation.t;var handleChangeInput=function handleChangeInput(event){var name=event.target.name;var value=event.target.value;setAppointmentInput(function(prevAppointmentInput){return _objectSpread(_objectSpread({},prevAppointmentInput),{},_defineProperty({},name,value));});};var handleAppointmentSubmit=function handleAppointmentSubmit(event){event.preventDefault();axios.post(\"http://localhost/api/add_meeting.php\",new URLSearchParams({meeting_date:appointmentInput.meeting_date,meeting_time:appointmentInput.meeting_time,meeting_description:appointmentInput.meeting_description}),{withCredentials:true}).then(function(response){if(response.data){navigate(\"/appointmentconfirm\");setErrorMessage(\"\");}else{setErrorMessage(\"Appointment submitting failed\");}}).catch(function(error){if(error.response&&error.response.data===\"You must choose a date\"){setErrorMessage(\"You must choose a date\");}else if(error.response&&error.response.data===\"You must choose a time\"){setErrorMessage(\"You must choose a time\");}else if(error.response&&error.response.data===\"Meetings are not available on weekends\"){setErrorMessage(\"Meetings are not available on weekends\");}else if(error.response&&error.response.data===\"Meetings are available between 10 AM and 3 PM\"){setErrorMessage(\"Meetings are available between 10 AM and 3 PM\");}else if(error.response&&error.response.data===\"This section must be filled in\"){setErrorMessage(\"This section must be filled in\");}else if(error.response&&error.response.data===\"Only 550 characters allowed\"){setErrorMessage(\"Only 550 characters allowed\");}else if(error.response&&error.response.data===\"At least 100 characters are required\"){setErrorMessage(\"At least 100 characters are required\");}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoggedInNavigation,{}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginTop:\"5rem\",textAlign:\"center\",fontSize:50},children:t(\"Book meeting\")}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 mt-4 mx-4 px-5\",style:{fontSize:30},children:t(\"Please choose the desired date and time and describe your future project you would like to work on it with us\")}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{sm:2,md:12,lg:12,children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleAppointmentSubmit,className:\"px-5 my-4 px-5 d-flex justify-content-center flex-column\",style:{fontSize:25,fontFamily:\"primary-font\",marginLeft:\"1rem\",marginRight:\"1rem\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontSize:30,fontFamily:\"secondary-font\",fontWeight:\"bold\",textAlign:\"center\"},children:t(errorMessage)}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{size:\"lg\",type:\"date\",name:\"meeting_date\",value:appointmentInput.meeting_date,onChange:handleChangeInput,style:{marginBottom:\"1rem\",padding:\"1rem\",fontSize:25,borderRadius:20,borderBottom:\"3px solid grey\"}})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{size:\"lg\",type:\"time\",name:\"meeting_time\",value:appointmentInput.meeting_time,onChange:handleChangeInput,style:{marginBottom:\"0.5rem\",padding:\"1rem\",fontSize:25,borderRadius:20,borderBottom:\"3px solid grey\"}})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"meeting_description\",value:appointmentInput.meeting_description,onChange:handleChangeInput,rows:4,placeholder:t(\"Describe your upcoming project here...\"),style:{padding:\"1rem 3rem 3rem 1.5rem\",fontSize:25,fontFamily:\"secondary-font\",borderRadius:20,borderBottom:\"4px solid grey\"}})}),/*#__PURE__*/_jsx(Stack,{direction:\"horizontal\",gap:5,className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{className:\"mt-4 px-4\",style:{fontSize:30,fontFamily:\"primary-font\",borderBottom:\"4px solid black\",borderRadius:20,backgroundColor:\"#7F7EC7\",marginBottom:\"2rem\"},onClick:handleAppointmentSubmit,children:t(\"Confirm\")})})]})})})]})]});};export default AddAppointment;","map":{"version":3,"names":["React","useState","LoggedInNavigation","Container","Button","Stack","Row","Col","Form","useNavigate","axios","useTranslation","AddAppointment","errorMessage","setErrorMessage","meeting_date","meeting_time","meeting_description","appointmentInput","setAppointmentInput","navigate","t","handleChangeInput","event","name","target","value","prevAppointmentInput","handleAppointmentSubmit","preventDefault","post","URLSearchParams","withCredentials","then","response","data","catch","error","marginTop","textAlign","fontSize","fontFamily","marginLeft","marginRight","color","fontWeight","marginBottom","padding","borderRadius","borderBottom","backgroundColor"],"sources":["C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/src/pages/LoggedIntoSession/AddAppointment.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport LoggedInNavigation from \"./LoggedInNavigation\";\r\nimport { Container, Button, Stack, Row, Col, Form } from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst AddAppointment = () => {\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [appointmentInput, setAppointmentInput] = useState({\r\n    meeting_date: \"\",\r\n    meeting_time: \"\",\r\n    meeting_description: \"\",\r\n  });\r\n  const navigate = useNavigate();\r\n  const { t } = useTranslation();\r\n\r\n  const handleChangeInput = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    setAppointmentInput((prevAppointmentInput) => ({\r\n      ...prevAppointmentInput,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleAppointmentSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    axios\r\n      .post(\r\n        \"http://localhost/api/add_meeting.php\",\r\n        new URLSearchParams({\r\n          meeting_date: appointmentInput.meeting_date,\r\n          meeting_time: appointmentInput.meeting_time,\r\n          meeting_description: appointmentInput.meeting_description,\r\n        }),\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        if (response.data) {\r\n          navigate(\"/appointmentconfirm\");\r\n          setErrorMessage(\"\");\r\n        } else {\r\n          setErrorMessage(\"Appointment submitting failed\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (\r\n          error.response &&\r\n          error.response.data === \"You must choose a date\"\r\n        ) {\r\n          setErrorMessage(\"You must choose a date\");\r\n        } else if (\r\n          error.response &&\r\n          error.response.data === \"You must choose a time\"\r\n        ) {\r\n          setErrorMessage(\"You must choose a time\");\r\n        } else if (\r\n          error.response &&\r\n          error.response.data === \"Meetings are not available on weekends\"\r\n        ) {\r\n          setErrorMessage(\"Meetings are not available on weekends\");\r\n        } else if (\r\n          error.response &&\r\n          error.response.data ===\r\n            \"Meetings are available between 10 AM and 3 PM\"\r\n        ) {\r\n          setErrorMessage(\"Meetings are available between 10 AM and 3 PM\");\r\n        } else if (\r\n          error.response &&\r\n          error.response.data === \"This section must be filled in\"\r\n        ) {\r\n          setErrorMessage(\"This section must be filled in\");\r\n        } else if (\r\n          error.response &&\r\n          error.response.data === \"Only 550 characters allowed\"\r\n        ) {\r\n          setErrorMessage(\"Only 550 characters allowed\");\r\n        } else if (\r\n          error.response &&\r\n          error.response.data === \"At least 100 characters are required\"\r\n        ) {\r\n          setErrorMessage(\"At least 100 characters are required\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoggedInNavigation />\r\n      <Container>\r\n        <h1 style={{ marginTop: \"5rem\", textAlign: \"center\", fontSize: 50 }}>\r\n          {t(\"Book meeting\")}\r\n        </h1>\r\n        <p className=\"mb-4 mt-4 mx-4 px-5\" style={{ fontSize: 30 }}>\r\n          {t(\r\n            \"Please choose the desired date and time and describe your future project you would like to work on it with us\"\r\n          )}\r\n        </p>\r\n        <Row>\r\n          <Col sm={2} md={12} lg={12}>\r\n            <Form\r\n              onSubmit={handleAppointmentSubmit}\r\n              className=\"px-5 my-4 px-5 d-flex justify-content-center flex-column\"\r\n              style={{\r\n                fontSize: 25,\r\n                fontFamily: \"primary-font\",\r\n                marginLeft: \"1rem\",\r\n                marginRight: \"1rem\",\r\n              }}\r\n            >\r\n              <p\r\n                style={{\r\n                  color: \"red\",\r\n                  fontSize: 30,\r\n                  fontFamily: \"secondary-font\",\r\n                  fontWeight: \"bold\",\r\n                  textAlign: \"center\",\r\n                }}\r\n              >\r\n                {t(errorMessage)}\r\n              </p>\r\n              <Form.Group>\r\n                <Form.Control\r\n                  size=\"lg\"\r\n                  type=\"date\"\r\n                  name=\"meeting_date\"\r\n                  value={appointmentInput.meeting_date}\r\n                  onChange={handleChangeInput}\r\n                  style={{\r\n                    marginBottom: \"1rem\",\r\n                    padding: \"1rem\",\r\n                    fontSize: 25,\r\n                    borderRadius: 20,\r\n                    borderBottom: \"3px solid grey\",\r\n                  }}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Control\r\n                  size=\"lg\"\r\n                  type=\"time\"\r\n                  name=\"meeting_time\"\r\n                  value={appointmentInput.meeting_time}\r\n                  onChange={handleChangeInput}\r\n                  style={{\r\n                    marginBottom: \"0.5rem\",\r\n                    padding: \"1rem\",\r\n                    fontSize: 25,\r\n                    borderRadius: 20,\r\n                    borderBottom: \"3px solid grey\",\r\n                  }}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  name=\"meeting_description\"\r\n                  value={appointmentInput.meeting_description}\r\n                  onChange={handleChangeInput}\r\n                  rows={4}\r\n                  placeholder={t(\"Describe your upcoming project here...\")}\r\n                  style={{\r\n                    padding: \"1rem 3rem 3rem 1.5rem\",\r\n                    fontSize: 25,\r\n                    fontFamily: \"secondary-font\",\r\n                    borderRadius: 20,\r\n                    borderBottom: \"4px solid grey\",\r\n                  }}\r\n                />\r\n              </Form.Group>\r\n              <Stack\r\n                direction=\"horizontal\"\r\n                gap={5}\r\n                className=\"d-flex justify-content-center\"\r\n              >\r\n                <Button\r\n                  className=\"mt-4 px-4\"\r\n                  style={{\r\n                    fontSize: 30,\r\n                    fontFamily: \"primary-font\",\r\n                    borderBottom: \"4px solid black\",\r\n                    borderRadius: 20,\r\n                    backgroundColor: \"#7F7EC7\",\r\n                    marginBottom: \"2rem\",\r\n                  }}\r\n                  onClick={handleAppointmentSubmit}\r\n                >\r\n                  {t(\"Confirm\")}\r\n                </Button>\r\n              </Stack>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddAppointment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}