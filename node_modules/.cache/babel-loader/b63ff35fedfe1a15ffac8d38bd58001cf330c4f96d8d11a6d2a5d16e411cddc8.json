{"ast":null,"code":"import _slicedToArray from\"C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Row,Col,Container,Button}from\"react-bootstrap\";import{useNavigate,useLocation}from\"react-router-dom\";import axios from\"axios\";import{useTranslation}from\"react-i18next\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AccountConfirmed=function AccountConfirmed(){var navigate=useNavigate();var _useLocation=useLocation(),search=_useLocation.search;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),validToken=_useState2[0],setValidToken=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var _useTranslation=useTranslation(),t=_useTranslation.t;useEffect(function(){var params=new URLSearchParams(search);var token=params.get(\"token\");axios.get(\"http://localhost/api/confirm_account.php?token=\".concat(token)).then(function(response){if(response.data){setValidToken(true);}else{setErrorMessage(response.data);}}).catch(function(error){console.log(error);});},[navigate,validToken,search]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{sm:5,md:10,xl:12,children:[errorMessage&&/*#__PURE__*/_jsx(\"p\",{children:errorMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-column p-5\",style:{textAlign:\"center\",marginTop:\"12rem\"},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",style:{fontSize:50},children:t(\"Thank you!\")}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:30,width:\"90%\"},children:t(\"Your account has been successfully verified and now you can book a meeting with us.\")}),validToken?/*#__PURE__*/_jsx(Button,{href:\"/login\",className:\"mt-4 px-4\",style:{fontSize:30,fontFamily:\"primary-font\",borderBottom:\"4px solid black\",borderRadius:20,backgroundColor:\"#7F7EC7\"},children:t(\"Go to login\")}):/*#__PURE__*/_jsx(\"p\",{children:t(\"Please wait...\")})]})]})})})});};export default AccountConfirmed;","map":{"version":3,"names":["React","useState","useEffect","Row","Col","Container","Button","useNavigate","useLocation","axios","useTranslation","AccountConfirmed","navigate","search","validToken","setValidToken","errorMessage","setErrorMessage","t","params","URLSearchParams","token","get","then","response","data","catch","error","console","log","textAlign","marginTop","fontSize","width","fontFamily","borderBottom","borderRadius","backgroundColor"],"sources":["C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/src/pages/AccountConfirmed.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst AccountConfirmed = () => {\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const [validToken, setValidToken] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(search);\r\n    const token = params.get(\"token\");\r\n\r\n    axios\r\n      .get(`http://localhost/api/confirm_account.php?token=${token}`)\r\n      .then((response) => {\r\n        if (response.data) {\r\n          setValidToken(true);\r\n        } else {\r\n          setErrorMessage(response.data);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [navigate, validToken, search]);\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Row>\r\n          <Col sm={5} md={10} xl={12}>\r\n            {errorMessage && <p>{errorMessage}</p>}\r\n            <div\r\n              className=\"d-flex align-items-center flex-column p-5\"\r\n              style={{ textAlign: \"center\", marginTop: \"12rem\" }}\r\n            >\r\n              <h1 className=\"mb-4\" style={{ fontSize: 50 }}>\r\n                {t(\"Thank you!\")}\r\n              </h1>\r\n              <p style={{ fontSize: 30, width: \"90%\" }}>\r\n                {t(\r\n                  \"Your account has been successfully verified and now you can book a meeting with us.\"\r\n                )}\r\n              </p>\r\n              {validToken ? (\r\n                <Button\r\n                  href=\"/login\"\r\n                  className=\"mt-4 px-4\"\r\n                  style={{\r\n                    fontSize: 30,\r\n                    fontFamily: \"primary-font\",\r\n                    borderBottom: \"4px solid black\",\r\n                    borderRadius: 20,\r\n                    backgroundColor: \"#7F7EC7\",\r\n                  }}\r\n                >\r\n                  {t(\"Go to login\")}\r\n                </Button>\r\n              ) : (\r\n                <p>{t(\"Please wait...\")}</p>\r\n              )}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AccountConfirmed;\r\n"],"mappings":"yIAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,GAAG,CAAEC,SAAS,CAAEC,MAAM,KAAQ,iBAAiB,CAC7D,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,cAAc,KAAQ,eAAe,CAAC,6IAE/C,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7B,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,iBAAmBC,WAAW,EAAE,CAAxBK,MAAM,cAANA,MAAM,CACd,cAAoCZ,QAAQ,CAAC,KAAK,CAAC,wCAA5Ca,UAAU,eAAEC,aAAa,eAChC,eAAwCd,QAAQ,CAAC,EAAE,CAAC,yCAA7Ce,YAAY,eAAEC,eAAe,eAEpC,oBAAcP,cAAc,EAAE,CAAtBQ,CAAC,iBAADA,CAAC,CAEThB,SAAS,CAAC,UAAM,CACd,GAAMiB,OAAM,CAAG,GAAIC,gBAAe,CAACP,MAAM,CAAC,CAC1C,GAAMQ,MAAK,CAAGF,MAAM,CAACG,GAAG,CAAC,OAAO,CAAC,CAEjCb,KAAK,CACFa,GAAG,0DAAmDD,KAAK,EAAG,CAC9DE,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAAE,CACjBV,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,IAAM,CACLE,eAAe,CAACO,QAAQ,CAACC,IAAI,CAAC,CAChC,CACF,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAAE,CAACf,QAAQ,CAAEE,UAAU,CAAED,MAAM,CAAC,CAAC,CAElC,mBACE,sCACE,KAAC,SAAS,wBACR,KAAC,GAAG,wBACF,MAAC,GAAG,EAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,EAAG,WACxBG,YAAY,eAAI,mBAAIA,YAAY,EAAK,cACtC,aACE,SAAS,CAAC,2CAA2C,CACrD,KAAK,CAAE,CAAEc,SAAS,CAAE,QAAQ,CAAEC,SAAS,CAAE,OAAQ,CAAE,wBAEnD,WAAI,SAAS,CAAC,MAAM,CAAC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAG,CAAE,UAC1Cd,CAAC,CAAC,YAAY,CAAC,EACb,cACL,UAAG,KAAK,CAAE,CAAEc,QAAQ,CAAE,EAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,UACtCf,CAAC,CACA,qFAAqF,CACtF,EACC,CACHJ,UAAU,cACT,KAAC,MAAM,EACL,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,WAAW,CACrB,KAAK,CAAE,CACLkB,QAAQ,CAAE,EAAE,CACZE,UAAU,CAAE,cAAc,CAC1BC,YAAY,CAAE,iBAAiB,CAC/BC,YAAY,CAAE,EAAE,CAChBC,eAAe,CAAE,SACnB,CAAE,UAEDnB,CAAC,CAAC,aAAa,CAAC,EACV,cAET,mBAAIA,CAAC,CAAC,gBAAgB,CAAC,EACxB,GACG,GACF,EACF,EACI,EACX,CAEP,CAAC,CAED,cAAeP,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}