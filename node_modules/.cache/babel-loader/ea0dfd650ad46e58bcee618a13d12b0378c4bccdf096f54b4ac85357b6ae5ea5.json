{"ast":null,"code":"import _slicedToArray from\"C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import LoggedInNavigation from\"./LoggedInNavigation\";import{Row,Col,Container,Button,Table,Stack}from\"react-bootstrap\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{useTranslation}from\"react-i18next\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppointmentList=function AppointmentList(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),appointments=_useState2[0],setAppointments=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;useEffect(function(){axios.get(\"http://localhost/api/get_user.php\",{withCredentials:true}).then(function(response){if(response.data){navigate(\"/appointmentlist\");}else{navigate(\"/login\");}});},[navigate]);useEffect(function(){axios.get(\"http://localhost/api/check_meetings.php\",{withCredentials:true}).then(function(response){if(response.data){setAppointments(response.data);}}).catch(function(error){console.log(error);});},[]);var handleDeleteSubmit=function handleDeleteSubmit(meeting_id){axios.delete(\"http://localhost/api/cancel_meeting.php?meeting_id=\".concat(meeting_id),{withCredentials:true}).then(function(response){if(response.data){navigate(\"/cancelledappointmentconfirm?meeting_id=\".concat(meeting_id));}}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoggedInNavigation,{}),Array.isArray(appointments)&&appointments.length>0?/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-5\",style:{fontSize:50,marginTop:\"3rem\",textAlign:\"center\"},children:\"Your meetings\"}),/*#__PURE__*/_jsxs(Table,{responsive:\"sm\",striped:true,bordered:true,hover:true,style:{borderBottom:\"4px solid grey\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"th\",{children:t(\"Meeting ID\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Meeting Date\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Meeting Time\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Meeting Description\")}),/*#__PURE__*/_jsx(\"th\",{children:t(\"Action\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:appointments.map(function(appointment){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:appointment.meeting_id}),/*#__PURE__*/_jsx(\"td\",{children:appointment.meeting_date}),/*#__PURE__*/_jsx(\"td\",{children:appointment.meeting_time}),/*#__PURE__*/_jsx(\"td\",{children:appointment.meeting_description}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Stack,{className:\"d-flex justify-content-center p-3\",gap:1,children:[/*#__PURE__*/_jsx(Button,{className:\"mt-2 px-4\",style:{fontSize:20,fontFamily:\"primary-font\",borderBottom:\"4px solid black\",borderRadius:20,backgroundColor:\"#7F7EC7\"},onClick:function onClick(){return navigate(\"/editappointment?meeting_id=\".concat(appointment.meeting_id));},children:t(\"Edit\")}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleDeleteSubmit(appointment.meeting_id);},className:\"my-3 px-4\",style:{fontSize:20,fontFamily:\"primary-font\",borderBottom:\"4px solid black\",borderRadius:20,backgroundColor:\"#EB3131\"},children:t(\"Cancel\")})]})})]},appointment.meeting_id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{href:\"/addappointment\",className:\"mt-4 px-4 mb-5\",style:{fontSize:30,fontFamily:\"primary-font\",borderBottom:\"4px solid black\",borderRadius:20,backgroundColor:\"#7F7EC7\"},children:t(\"Book a new meeting\")})})]}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{sm:5,md:10,xl:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center flex-column p-5\",style:{textAlign:\"center\",marginTop:\"5rem\"},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-5\",style:{fontSize:50},children:t(\"Whoops, there's nothing here.\")}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:30,width:\"90%\"},children:t(\"Would you like to book a meeting with us to discuss your project?\")}),/*#__PURE__*/_jsx(Button,{href:\"/addappointment\",className:\"mt-4 px-4\",style:{fontSize:30,fontFamily:\"primary-font\",borderBottom:\"4px solid black\",borderRadius:20,backgroundColor:\"#7F7EC7\"},children:t(\"Book a new meeting\")})]})})})})]});};export default AppointmentList;","map":{"version":3,"names":["React","useEffect","useState","LoggedInNavigation","Row","Col","Container","Button","Table","Stack","axios","useNavigate","useTranslation","AppointmentList","navigate","appointments","setAppointments","t","get","withCredentials","then","response","data","catch","error","console","log","handleDeleteSubmit","meeting_id","delete","Array","isArray","length","fontSize","marginTop","textAlign","borderBottom","map","appointment","meeting_date","meeting_time","meeting_description","fontFamily","borderRadius","backgroundColor","width"],"sources":["C:/Users/bianc/Desktop/Bachelor Exam/the-other-nuub/src/pages/LoggedIntoSession/AppointmentList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport LoggedInNavigation from \"./LoggedInNavigation\";\r\nimport { Row, Col, Container, Button, Table, Stack } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst AppointmentList = () => {\r\n  const navigate = useNavigate();\r\n  const [appointments, setAppointments] = useState([]);\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost/api/get_user.php\", {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          navigate(\"/appointmentlist\");\r\n        } else {\r\n          navigate(\"/login\");\r\n        }\r\n      });\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost/api/check_meetings.php\", {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        if (response.data) {\r\n          setAppointments(response.data);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  const handleDeleteSubmit = (meeting_id) => {\r\n    axios\r\n      .delete(\r\n        `http://localhost/api/cancel_meeting.php?meeting_id=${meeting_id}`,\r\n        {\r\n          withCredentials: true,\r\n        }\r\n      )\r\n      .then((response) => {\r\n        if (response.data) {\r\n          navigate(`/cancelledappointmentconfirm?meeting_id=${meeting_id}`);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoggedInNavigation />\r\n      {Array.isArray(appointments) && appointments.length > 0 ? (\r\n        <Container>\r\n          <h1\r\n            className=\"mb-5\"\r\n            style={{ fontSize: 50, marginTop: \"3rem\", textAlign: \"center\" }}\r\n          >\r\n            Your meetings\r\n          </h1>\r\n          <Table\r\n            responsive=\"sm\"\r\n            striped\r\n            bordered\r\n            hover\r\n            style={{\r\n              borderBottom: \"4px solid grey\",\r\n            }}\r\n          >\r\n            <thead>\r\n              <tr style={{ textAlign: \"center\" }}>\r\n                <th>{t(\"Meeting ID\")}</th>\r\n                <th>{t(\"Meeting Date\")}</th>\r\n                <th>{t(\"Meeting Time\")}</th>\r\n                <th>{t(\"Meeting Description\")}</th>\r\n                <th>{t(\"Action\")}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {appointments.map((appointment) => (\r\n                <tr key={appointment.meeting_id}>\r\n                  <td>{appointment.meeting_id}</td>\r\n                  <td>{appointment.meeting_date}</td>\r\n                  <td>{appointment.meeting_time}</td>\r\n                  <td>{appointment.meeting_description}</td>\r\n                  <td>\r\n                    <Stack\r\n                      className=\"d-flex justify-content-center p-3\"\r\n                      gap={1}\r\n                    >\r\n                      <Button\r\n                        className=\"mt-2 px-4\"\r\n                        style={{\r\n                          fontSize: 20,\r\n                          fontFamily: \"primary-font\",\r\n                          borderBottom: \"4px solid black\",\r\n                          borderRadius: 20,\r\n                          backgroundColor: \"#7F7EC7\",\r\n                        }}\r\n                        onClick={() =>\r\n                          navigate(\r\n                            `/editappointment?meeting_id=${appointment.meeting_id}`\r\n                          )\r\n                        }\r\n                      >\r\n                        {t(\"Edit\")}\r\n                      </Button>\r\n                      <Button\r\n                        onClick={() =>\r\n                          handleDeleteSubmit(appointment.meeting_id)\r\n                        }\r\n                        className=\"my-3 px-4\"\r\n                        style={{\r\n                          fontSize: 20,\r\n                          fontFamily: \"primary-font\",\r\n                          borderBottom: \"4px solid black\",\r\n                          borderRadius: 20,\r\n                          backgroundColor: \"#EB3131\",\r\n                        }}\r\n                      >\r\n                        {t(\"Cancel\")}\r\n                      </Button>\r\n                    </Stack>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          <div className=\"d-flex justify-content-center\">\r\n            <Button\r\n              href=\"/addappointment\"\r\n              className=\"mt-4 px-4 mb-5\"\r\n              style={{\r\n                fontSize: 30,\r\n                fontFamily: \"primary-font\",\r\n                borderBottom: \"4px solid black\",\r\n                borderRadius: 20,\r\n                backgroundColor: \"#7F7EC7\",\r\n              }}\r\n            >\r\n              {t(\"Book a new meeting\")}\r\n            </Button>\r\n          </div>\r\n        </Container>\r\n      ) : (\r\n        <Container>\r\n          <Row>\r\n            <Col sm={5} md={10} xl={12}>\r\n              <div\r\n                className=\"d-flex align-items-center flex-column p-5\"\r\n                style={{ textAlign: \"center\", marginTop: \"5rem\" }}\r\n              >\r\n                <h1 className=\"mb-5\" style={{ fontSize: 50 }}>\r\n                  {t(\"Whoops, there's nothing here.\")}\r\n                </h1>\r\n                <p style={{ fontSize: 30, width: \"90%\" }}>\r\n                  {t(\r\n                    \"Would you like to book a meeting with us to discuss your project?\"\r\n                  )}\r\n                </p>\r\n                <Button\r\n                  href=\"/addappointment\"\r\n                  className=\"mt-4 px-4\"\r\n                  style={{\r\n                    fontSize: 30,\r\n                    fontFamily: \"primary-font\",\r\n                    borderBottom: \"4px solid black\",\r\n                    borderRadius: 20,\r\n                    backgroundColor: \"#7F7EC7\",\r\n                  }}\r\n                >\r\n                  {t(\"Book a new meeting\")}\r\n                </Button>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppointmentList;\r\n"],"mappings":"yIAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,mBAAkB,KAAM,sBAAsB,CACrD,OAASC,GAAG,CAAEC,GAAG,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,CAAEC,KAAK,KAAQ,iBAAiB,CAC3E,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,KAAQ,eAAe,CAAC,6IAE/C,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5B,GAAMC,SAAQ,CAAGH,WAAW,EAAE,CAC9B,cAAwCT,QAAQ,CAAC,EAAE,CAAC,wCAA7Ca,YAAY,eAAEC,eAAe,eACpC,oBAAcJ,cAAc,EAAE,CAAtBK,CAAC,iBAADA,CAAC,CAEThB,SAAS,CAAC,UAAM,CACdS,KAAK,CACFQ,GAAG,CAAC,mCAAmC,CAAE,CACxCC,eAAe,CAAE,IACnB,CAAC,CAAC,CACDC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAAE,CACjBR,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CAAC,IAAM,CACLA,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAC,CACN,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEdb,SAAS,CAAC,UAAM,CACdS,KAAK,CACFQ,GAAG,CAAC,yCAAyC,CAAE,CAC9CC,eAAe,CAAE,IACnB,CAAC,CAAC,CACDC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAAE,CACjBN,eAAe,CAACK,QAAQ,CAACC,IAAI,CAAC,CAChC,CACF,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMG,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,UAAU,CAAK,CACzClB,KAAK,CACFmB,MAAM,8DACiDD,UAAU,EAChE,CACET,eAAe,CAAE,IACnB,CAAC,CACF,CACAC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAAE,CACjBR,QAAQ,mDAA4Cc,UAAU,EAAG,CACnE,CACF,CAAC,CAAC,CACDL,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAED,mBACE,wCACE,KAAC,kBAAkB,IAAG,CACrBM,KAAK,CAACC,OAAO,CAAChB,YAAY,CAAC,EAAIA,YAAY,CAACiB,MAAM,CAAG,CAAC,cACrD,MAAC,SAAS,yBACR,WACE,SAAS,CAAC,MAAM,CAChB,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAE,CAAEC,SAAS,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,UACjE,eAED,EAAK,cACL,MAAC,KAAK,EACJ,UAAU,CAAC,IAAI,CACf,OAAO,MACP,QAAQ,MACR,KAAK,MACL,KAAK,CAAE,CACLC,YAAY,CAAE,gBAChB,CAAE,wBAEF,oCACE,YAAI,KAAK,CAAE,CAAED,SAAS,CAAE,QAAS,CAAE,wBACjC,oBAAKlB,CAAC,CAAC,YAAY,CAAC,EAAM,cAC1B,oBAAKA,CAAC,CAAC,cAAc,CAAC,EAAM,cAC5B,oBAAKA,CAAC,CAAC,cAAc,CAAC,EAAM,cAC5B,oBAAKA,CAAC,CAAC,qBAAqB,CAAC,EAAM,cACnC,oBAAKA,CAAC,CAAC,QAAQ,CAAC,EAAM,GACnB,EACC,cACR,uBACGF,YAAY,CAACsB,GAAG,CAAC,SAACC,WAAW,qBAC5B,mCACE,oBAAKA,WAAW,CAACV,UAAU,EAAM,cACjC,oBAAKU,WAAW,CAACC,YAAY,EAAM,cACnC,oBAAKD,WAAW,CAACE,YAAY,EAAM,cACnC,oBAAKF,WAAW,CAACG,mBAAmB,EAAM,cAC1C,iCACE,MAAC,KAAK,EACJ,SAAS,CAAC,mCAAmC,CAC7C,GAAG,CAAE,CAAE,wBAEP,KAAC,MAAM,EACL,SAAS,CAAC,WAAW,CACrB,KAAK,CAAE,CACLR,QAAQ,CAAE,EAAE,CACZS,UAAU,CAAE,cAAc,CAC1BN,YAAY,CAAE,iBAAiB,CAC/BO,YAAY,CAAE,EAAE,CAChBC,eAAe,CAAE,SACnB,CAAE,CACF,OAAO,CAAE,yBACP9B,SAAQ,uCACyBwB,WAAW,CAACV,UAAU,EACtD,EACF,UAEAX,CAAC,CAAC,MAAM,CAAC,EACH,cACT,KAAC,MAAM,EACL,OAAO,CAAE,yBACPU,mBAAkB,CAACW,WAAW,CAACV,UAAU,CAAC,EAC3C,CACD,SAAS,CAAC,WAAW,CACrB,KAAK,CAAE,CACLK,QAAQ,CAAE,EAAE,CACZS,UAAU,CAAE,cAAc,CAC1BN,YAAY,CAAE,iBAAiB,CAC/BO,YAAY,CAAE,EAAE,CAChBC,eAAe,CAAE,SACnB,CAAE,UAED3B,CAAC,CAAC,QAAQ,CAAC,EACL,GACH,EACL,GA3CEqB,WAAW,CAACV,UAAU,CA4C1B,EACN,CAAC,EACI,GACF,cACR,YAAK,SAAS,CAAC,+BAA+B,uBAC5C,KAAC,MAAM,EACL,IAAI,CAAC,iBAAiB,CACtB,SAAS,CAAC,gBAAgB,CAC1B,KAAK,CAAE,CACLK,QAAQ,CAAE,EAAE,CACZS,UAAU,CAAE,cAAc,CAC1BN,YAAY,CAAE,iBAAiB,CAC/BO,YAAY,CAAE,EAAE,CAChBC,eAAe,CAAE,SACnB,CAAE,UAED3B,CAAC,CAAC,oBAAoB,CAAC,EACjB,EACL,GACI,cAEZ,KAAC,SAAS,wBACR,KAAC,GAAG,wBACF,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,EAAG,uBACzB,aACE,SAAS,CAAC,2CAA2C,CACrD,KAAK,CAAE,CAAEkB,SAAS,CAAE,QAAQ,CAAED,SAAS,CAAE,MAAO,CAAE,wBAElD,WAAI,SAAS,CAAC,MAAM,CAAC,KAAK,CAAE,CAAED,QAAQ,CAAE,EAAG,CAAE,UAC1ChB,CAAC,CAAC,+BAA+B,CAAC,EAChC,cACL,UAAG,KAAK,CAAE,CAAEgB,QAAQ,CAAE,EAAE,CAAEY,KAAK,CAAE,KAAM,CAAE,UACtC5B,CAAC,CACA,mEAAmE,CACpE,EACC,cACJ,KAAC,MAAM,EACL,IAAI,CAAC,iBAAiB,CACtB,SAAS,CAAC,WAAW,CACrB,KAAK,CAAE,CACLgB,QAAQ,CAAE,EAAE,CACZS,UAAU,CAAE,cAAc,CAC1BN,YAAY,CAAE,iBAAiB,CAC/BO,YAAY,CAAE,EAAE,CAChBC,eAAe,CAAE,SACnB,CAAE,UAED3B,CAAC,CAAC,oBAAoB,CAAC,EACjB,GACL,EACF,EACF,EAET,GACA,CAEP,CAAC,CAED,cAAeJ,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}